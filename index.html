<!doctype html>
<html lang="pl">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<title>Heartline ‚Äî Fundament</title>
<style>
  :root{
    --bg1:#ffeef7; --bg2:#d8efff; --ink:#111827; --muted:#6b7280;
    --glass:rgba(255,255,255,.65); --shadow:0 10px 30px rgba(0,0,0,.25);
    --blue:#60a5fa; --vio:#8b5cf6; --green:#34d399; --pink:#f472b6; --primary:#ff7aa2;
  }
  *{box-sizing:border-box}
  html,body,#root{height:100%;margin:0}
  body{background:#0f172a;overflow:hidden;font-family:Inter,ui-sans-serif,-apple-system,Segoe UI,Roboto;color:var(--ink)}
  .stage{height:100%;display:flex;align-items:center;justify-content:center}

  /* rama telefonu */
  .phone{
    width:min(360px,calc(100vw - 16px));
    height:min(780px,calc(100vh - 16px));
    border-radius:28px;background:#000;border:4px solid #0b0f1a;
    box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column
  }
  .status{height:56px;display:flex;align-items:center;justify-content:center;padding:0 12px;background:#0b1220;color:#fff;font-weight:800}

  /* wsp√≥lny kontener ekran√≥w */
  .screen{position:relative;flex:1;overflow:hidden;background:linear-gradient(135deg,var(--bg1),var(--bg2))}
  .screen::before{
    content:"";position:absolute;inset:0;opacity:.22;
    background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="700">\
<defs><radialGradient id="g" cx="50%" cy="50%" r="50%"><stop offset="0" stop-color="#fff"/><stop offset="1" stop-color="#ffffff00"/></radialGradient></defs>\
<g opacity="0.95">\
<circle cx="120" cy="120" r="54" fill="%23f8b4d9"/><circle cx="120" cy="120" r="28" fill="url(%23g)"/>\
<circle cx="560" cy="140" r="46" fill="%23c4b5fd"/><circle cx="560" cy="140" r="24" fill="url(%23g)"/>\
<circle cx="210" cy="320" r="42" fill="%23a7f3d0"/><circle cx="210" cy="320" r="22" fill="url(%23g)"/>\
<circle cx="430" cy="380" r="58" fill="%23fde68a"/><circle cx="430" cy="380" r="30" fill="url(%23g)"/>\
<circle cx="300" cy="560" r="44" fill="%23fbcfe8"/><circle cx="300" cy="560" r="22" fill="url(%23g)"/>\
</g></svg>');
    background-size:280px 280px;background-repeat:repeat
  }
  .wrap{position:relative;z-index:1;height:100%;padding:18px;display:flex;flex-direction:column;align-items:center;justify-content:center}

  /* START */
  .title{font-weight:900;font-size:28px;letter-spacing:.5px;margin-bottom:16px;color:#0b1220}
  .subtitle{color:#374151;margin-bottom:24px}
  .row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
  .btn{border:0;border-radius:999px;padding:12px 20px;font-weight:800;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,.12)}
  .btn.primary{background:linear-gradient(135deg,var(--primary),#ff96b6);color:#fff}
  .btn.ghost{background:rgba(255,255,255,.85);color:#0f172a}

  /* NAME SCREEN */
  .card{background:rgba(255,255,255,.85);backdrop-filter:blur(6px);border-radius:18px;padding:18px;box-shadow:var(--shadow);width:90%;max-width:320px}
  .card label{display:block;font-weight:800;margin-bottom:6px}
  .card input{width:100%;padding:12px;border-radius:12px;border:1px solid #d1d5db;font-size:16px}
  .card .row{margin-top:12px;justify-content:flex-end}

  /* HOME */
  .home-inner{width:100%;max-width:300px;margin-top:8px}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;align-items:start;justify-items:center}
  .app{position:relative;display:flex;flex-direction:column;align-items:center}
  .app-icon{width:68px;height:68px;border-radius:999px;background:var(--glass);backdrop-filter:blur(6px);display:grid;place-items:center;box-shadow:0 6px 18px rgba(0,0,0,.12);font-size:28px}
  .app-name{margin-top:6px;font-size:12px;font-weight:700;color:#1f2937}
</style>
</head>
<body>
<div id="root"></div>

<!-- React UMD + Babel -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
const { useState, useEffect } = React;

function StatusBar(){ return <div className="status">Heartline</div>; }

/* ===== EKRANY ===== */
function StartScreen({onStart,onReset}){
  return (
    <div className="screen">
      <div className="wrap">
        <div className="title">Heartline</div>
        <div className="subtitle">Romance ‚Ä¢ Mystery ‚Ä¢ Choices</div>
        <div className="row">
          <button className="btn primary" onClick={onStart}>Start</button>
          <button className="btn ghost" onClick={onReset}>Reset</button>
        </div>
      </div>
    </div>
  );
}

function NameScreen({onConfirm}){
  const [name,setName]=useState('');
  useEffect(()=>{ setTimeout(()=>{ const el=document.getElementById('nameInput'); el&&el.focus(); },50); },[]);
  return (
    <div className="screen">
      <div className="wrap" style={{justifyContent:'center'}}>
        <div className="card">
          <label htmlFor="nameInput">Wpisz swojƒÖ nazwƒô u≈ºytkownika</label>
          <input id="nameInput" value={name} onChange={e=>setName(e.target.value)} placeholder="Your name‚Ä¶" maxLength={16}/>
          <div className="row">
            <button className="btn primary" onClick={()=>onConfirm(name.trim()||'Player')}>OK</button>
          </div>
        </div>
      </div>
    </div>
  );
}

function HomeScreen({playerName}){
  const apps=[
    {name:'Messages', icon:'üí¨'},
    {name:'Phone',    icon:'üìû'},
    {name:'Gallery',  icon:'üñºÔ∏è'},
    {name:'Clock',    icon:'‚è∞'},
    {name:'Notes',    icon:'üìù'},
    {name:'Settings', icon:'‚öôÔ∏è'},
    {name:'Music',    icon:'üéµ'},
    {name:'Calendar', icon:'üìÖ'},
    {name:'Mail',     icon:'‚úâÔ∏è'},
  ];
  return (
    <div className="screen">
      <div className="wrap" style={{justifyContent:'flex-start', paddingTop:24}}>
        <div style={{fontWeight:900, marginBottom:10}}>Welcome, {playerName} üíñ</div>
        <div className="home-inner">
          <div className="grid">
            {apps.map(a=>(
              <div key={a.name} className="app" title={a.name}>
                <div className="app-icon">{a.icon}</div>
                <div className="app-name">{a.name}</div>
              </div>
            ))}
          </div>
        </div>
        <div style={{marginTop:'auto',fontSize:12,color:'#374151'}}>To tylko fundament ‚Äî czaty i fabu≈Çƒô dodamy osobno.</div>
      </div>
    </div>
  );
}

/* ===== APP (logika ekranu) ===== */
function App(){
  const LS='HL_BASE_V1';
  const [playerName,setPlayerName]=useState(()=>{
    try{ return JSON.parse(localStorage.getItem(LS)||'{}').playerName || ''; }catch{ return ''; }
  });
  const [screen,setScreen]=useState(playerName? 'home':'start');

  function saveName(name){
    setPlayerName(name);
    localStorage.setItem(LS, JSON.stringify({playerName:name}));
  }
  function hardReset(){
    localStorage.removeItem(LS);
    setPlayerName('');
    setScreen('start');
  }

  return (
    <div className="stage">
      <div className="phone">
        <StatusBar/>
        {screen==='start' && (
          <StartScreen
            onStart={()=>setScreen('name')}
            onReset={hardReset}
          />
        )}
        {screen==='name' && (
          <NameScreen
            onConfirm={(nm)=>{ saveName(nm); setScreen('home'); }}
          />
        )}
        {screen==='home' && <HomeScreen playerName={playerName}/>}
      </div>
    </div>
  );
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App/>);
</script>
</body>
</html>
